{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","Components/App.js","index.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","inputValue","setInputValue","className","s","SearchForm","event","preventDefault","trim","alert","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","currentTarget","value","toLowerCase","modalRoot","document","querySelector","Modal","src","alt","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","Overlay","onClick","target","ImageGalleryItem","key","littlePicture","largePicture","name","showModal","setShowModal","id","setId","toggleModal","imageId","ImageGalleryItemImage","Button","baseUrl","ImageGallery","images","setImages","loader","setLoader","page","setPage","fetchImages","prevImages","fetch","then","res","json","hits","scrollTo","top","documentElement","scrollHeight","behavior","finally","ImageGalleryContainer","map","image","webformatURL","largeImageURL","tags","color","height","width","timeout","length","App","searchValue","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5fc5f84a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1QLhs\",\"Modal\":\"Modal_Modal__3WSHr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryContainer\":\"ImageGallery_ImageGalleryContainer__8BMnZ\",\"ImageGallery\":\"ImageGallery_ImageGallery__1knHw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3aYhe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__VYXmZ\",\"SearchForm\":\"Searchbar_SearchForm__28JDu\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1ziUP\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__O0lQp\",\"SearchFormInput\":\"Searchbar_SearchFormInput__kUrHS\"};","import { useState } from 'react';\nimport propTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [inputValue, setInputValue] = useState('');\n\n  const handleInput = event => {\n    setInputValue(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (inputValue.trim() === '') {\n      alert('Enter the query!');\n      return;\n    }\n\n    onSubmit(inputValue);\n    setInputValue('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          placeholder=\"Search images and photos\"\n          onChange={handleInput}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: propTypes.func.isRequired,\n};\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport propTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ src, alt, onClose }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleOverlayClick}>\n      <div className={s.Modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  src: propTypes.string.isRequired,\n  alt: propTypes.string.isRequired,\n  onClose: propTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport propTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\nimport Modal from './../../Modal/Modal';\n\nexport default function ImageGalleryItem({\n  key,\n  littlePicture,\n  largePicture,\n  name,\n}) {\n  const [showModal, setShowModal] = useState(false);\n  const [id, setId] = useState(null);\n\n  const toggleModal = imageId => {\n    setShowModal(showModal => !showModal);\n    setId(imageId);\n  };\n\n  return (\n    <>\n      <li className={s.ImageGalleryItem}>\n        <img\n          className={s.ImageGalleryItemImage}\n          src={littlePicture}\n          alt={name}\n          onClick={toggleModal}\n          id={id}\n        />\n      </li>\n      {showModal && (\n        <Modal src={largePicture} alt={name} onClose={toggleModal} />\n      )}{' '}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  littlePicture: propTypes.string.isRequired,\n  largePicture: propTypes.string.isRequired,\n  name: propTypes.string.isRequired,\n  showModal: propTypes.func.isRequired,\n  id: propTypes.number.isRequired,\n};\n","import propTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: propTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport Button from './../Button/Button';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './ImageGallery.module.css';\n\nconst baseUrl = 'https://pixabay.com/api/';\nconst key = '16370030-8b42ef581aeaa0cd943bdfd1a';\n\nexport default function ImageGallery({ inputValue }) {\n  const [images, setImages] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (inputValue === '') {\n      return;\n    }\n\n    setLoader(true);\n    setImages([]);\n    setPage(1);\n\n    fetchImages();\n  }, [inputValue]);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n\n    setLoader(true);\n    fetchImages(images, page);\n  }, [page]);\n\n  const fetchImages = (prevImages = [], page = 1) => {\n    fetch(\n      `${baseUrl}?q=${inputValue}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n      .then(res => res.json())\n      .then(images => {\n        setImages([...prevImages, ...images.hits]);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .finally(() => setLoader(false));\n  };\n\n  const handleBtnClick = () => {\n    setPage(page => page + 1);\n  };\n\n  return (\n    <div className={s.ImageGalleryContainer}>\n      <ul className={s.ImageGallery}>\n        {images.map(image => (\n          <ImageGalleryItem\n            key={image.id}\n            littlePicture={image.webformatURL}\n            largePicture={image.largeImageURL}\n            name={image.tags}\n            id={image.id}\n          />\n        ))}\n      </ul>\n      {loader && (\n        <Loader\n          type=\"Puff\"\n          color=\"#3f51b5\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      )}\n      {images.length > 0 && !loader && <Button onClick={handleBtnClick} />}\n    </div>\n  );\n}\n\nImageGallery.propTypes = {\n  inputValue: propTypes.string.isRequired,\n};\n","import { useState } from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\n\nexport default function App() {\n  const [inputValue, setInputValue] = useState('');\n\n  const handleFormSubmit = searchValue => {\n    setInputValue(searchValue);\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery inputValue={inputValue} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__w13r2\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2FrtS\"};"],"sourceRoot":""}