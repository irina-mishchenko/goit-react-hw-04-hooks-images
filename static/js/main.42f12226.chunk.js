(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1QLhs",Modal:"Modal_Modal__3WSHr"}},11:function(e,t,a){e.exports={ImageGalleryContainer:"ImageGallery_ImageGalleryContainer__8BMnZ",ImageGallery:"ImageGallery_ImageGallery__1knHw"}},14:function(e,t,a){e.exports={Button:"Button_Button__3aYhe"}},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__VYXmZ",SearchForm:"Searchbar_SearchForm__28JDu",SearchFormButton:"Searchbar_SearchFormButton__1ziUP",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__O0lQp",SearchFormInput:"Searchbar_SearchFormInput__kUrHS"}},42:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),o=a(6),l=a.n(o),i=a(3),s=a(4),u=a.n(s);function m(e){var t=e.onSubmit,a=Object(r.useState)(""),c=Object(i.a)(a,2),o=c[0],l=c[1];return Object(n.jsx)("header",{className:u.a.Searchbar,children:Object(n.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),l("")):alert("Enter the query!")},children:[Object(n.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(n.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{className:u.a.SearchFormInput,type:"text",placeholder:"Search images and photos",onChange:function(e){l(e.currentTarget.value.toLowerCase())}})]})})}var b=a(12),j=a(13),h=a.n(j),d=a(9),O=a.n(d),f=a(10),g=a.n(f),_=document.querySelector("#modal-root");function S(e){var t=e.src,a=e.alt,c=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",l),function(){window.removeEventListener("keydown",l)}}),[]);var l=function(e){"Escape"===e.code&&c()};return Object(o.createPortal)(Object(n.jsx)("div",{className:g.a.Overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(n.jsx)("div",{className:g.a.Modal,children:Object(n.jsx)("img",{src:t,alt:a})})}),_)}function p(e){e.key;var t=e.littlePicture,a=e.largePicture,c=e.name,o=Object(r.useState)(!1),l=Object(i.a)(o,2),s=l[0],u=l[1],m=Object(r.useState)(null),b=Object(i.a)(m,2),j=b[0],h=b[1],d=function(e){u((function(e){return!e})),h(e)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(n.jsx)("img",{className:O.a.ImageGalleryItemImage,src:t,alt:c,onClick:d,id:j})}),s&&Object(n.jsx)(S,{src:a,alt:c,onClose:d})," "]})}var y=a(14),I=a.n(y),x=function(e){var t=e.onClick;return Object(n.jsx)("button",{className:I.a.Button,type:"button",onClick:t,children:"Load more"})},v=(a(41),a(11)),w=a.n(v),G="https://pixabay.com/api/",k="16370030-8b42ef581aeaa0cd943bdfd1a";function F(e){var t=e.inputValue,a=Object(r.useState)([]),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(r.useState)(!1),u=Object(i.a)(s,2),m=u[0],j=u[1],d=Object(r.useState)(1),O=Object(i.a)(d,2),f=O[0],g=O[1];Object(r.useEffect)((function(){""!==t&&(l([]),g(1),_())}),[t]),Object(r.useEffect)((function(){1!==f&&_(o,f)}),[f]);var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;j(!0),fetch("".concat(G,"?q=").concat(t,"&page=").concat(a,"&key=").concat(k,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(t){l([].concat(Object(b.a)(e),Object(b.a)(t.hits))),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).finally((function(){return j(!1)}))};return Object(n.jsxs)("div",{className:w.a.ImageGalleryContainer,children:[Object(n.jsx)("ul",{className:w.a.ImageGallery,children:o.map((function(e){return Object(n.jsx)(p,{littlePicture:e.webformatURL,largePicture:e.largeImageURL,name:e.tags,id:e.id},e.id)}))}),m&&Object(n.jsx)(h.a,{type:"Puff",color:"#3f51b5",height:100,width:100,timeout:3e3}),o.length>0&&!m&&Object(n.jsx)(x,{onClick:function(){g((function(e){return e+1}))}})]})}function B(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(m,{onSubmit:function(e){c(e)}}),Object(n.jsx)(F,{inputValue:a})]})}l.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(B,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__w13r2",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2FrtS"}}},[[42,1,2]]]);
//# sourceMappingURL=main.42f12226.chunk.js.map